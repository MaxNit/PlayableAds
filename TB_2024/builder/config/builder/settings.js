const paths=require("../paths"),ownSettings=require("./builderConfig"),gameConfig=require("./games").gameConfig,playableSettings=require(paths.appSettingsJs),ownSettingsExtend=()=>{for(let e in ownSettings.apiSettings){if(!ownSettings.apiSettings.hasOwnProperty(e))continue;let t=ownSettings.baseSettings,i=ownSettings.apiSettings[e],a=playableSettings.apiSettings&&playableSettings.apiSettings[e],n=void 0!==a;if(!i){ownSettings.apiSettings[e]=!1;continue}let s=!0;"boolean"==typeof i.defaultState&&(s=i.defaultState),s=-1!=gameConfig.API.indexOf(e),n&&"boolean"==typeof a&&(s=a),s?("boolean"==typeof i&&(i={}),i.apiType||(i.apiType=e),i.htmlSource||(i.htmlSource=`prod/${e}/index.html`),i.buildFolderName||(i.buildFolderName=i.apiType),void 0===i.langsWithDisclaimer&&(i.langsWithDisclaimer=t.langsWithDisclaimerDefault),a&&a.configOverride&&(i=Object.assign(i,a.configOverride)),a&&a.playableParams&&(i.playableParams=Object.assign(i.playableParams,a.playableParams))):i=!1,ownSettings.apiSettings[e]=i}return ownSettings};module.exports={getExtendedSettings:ownSettingsExtend};